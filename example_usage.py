"""
üéØ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã —Ä–∞–∑–º–µ—Ç–∫–∏ –æ—Ç–∑—ã–≤–æ–≤ –≤ JupyterHub
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –≤ Jupyter Notebook –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞
"""

# =============================================================================
# –ë–õ–û–ö 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–∏–Ω —Ä–∞–∑)
# =============================================================================

# –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:
# !pip install requests pandas matplotlib seaborn

# =============================================================================
# –ë–õ–û–ö 2: –ò–º–ø–æ—Ä—Ç —Å–∏—Å—Ç–µ–º—ã
# =============================================================================

# –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å–∏—Å—Ç–µ–º—É –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
exec(open('jupyter_review_classifier.py').read())

# =============================================================================
# –ë–õ–û–ö 3: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
# =============================================================================

print("üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ—Ç–∑—ã–≤–æ–≤...")
classifier = JupyterReviewClassifier()

# =============================================================================
# –ë–õ–û–ö 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Ollama
# =============================================================================

print("\nüîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ Ollama...")
if classifier.check_ollama_status():
    print("‚úÖ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!")
else:
    print("‚ùå Ollama –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ.")
    classifier.install_ollama_instructions()

# =============================================================================
# –ë–õ–û–ö 5: –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
# =============================================================================

print("\nüìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö:")
classifier.show_stats()

# =============================================================================
# –ë–õ–û–ö 6: –ü—Ä–∏–º–µ—Ä –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ –æ—Ç–∑—ã–≤–∞
# =============================================================================

print("\nüß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –æ–¥–Ω–æ–º –æ—Ç–∑—ã–≤–µ...")

# –ü—Ä–∏–º–µ—Ä –æ—Ç–∑—ã–≤–∞
test_review = "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞–≤–∏—Å–∞–µ—Ç –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∫–æ—Ä–∑–∏–Ω—É"

# –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
annotation = classifier.classify_review(test_review)

if annotation:
    classifier.display_classification(test_review, annotation)
else:
    print("‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–∑—ã–≤")

# =============================================================================
# –ë–õ–û–ö 7: –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏–º–µ—Ä–æ–≤
# =============================================================================

print("\nüì¶ –ü–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∏–º–µ—Ä–æ–≤...")

# –¢–µ—Å—Ç–æ–≤—ã–µ –æ—Ç–∑—ã–≤—ã
sample_reviews = [
    "–ù–µ –º–æ–≥—É –≤–æ–π—Ç–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏",
    "–ö—É—Ä—å–µ—Ä –æ–ø–æ–∑–¥–∞–ª –Ω–∞ 3 —á–∞—Å–∞, –Ω–∏–∫–æ–≥–æ –Ω–µ –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏–ª",
    "–û—Ç–ª–∏—á–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞, –≤—Å–µ –ø—Ä–∏–≤–µ–∑–ª–∏ –±—ã—Å—Ç—Ä–æ –∏ –∞–∫–∫—É—Ä–∞—Ç–Ω–æ!",
    "–ù–µ –Ω–∞—á–∏—Å–ª–∏–ª–∏ –±–æ–Ω—É—Å—ã –∑–∞ –ø–æ–∫—É–ø–∫—É, —Ö–æ—Ç—è –≤—Å–µ —É—Å–ª–æ–≤–∏—è –≤—ã–ø–æ–ª–Ω–∏–ª",
    "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —É–∂–µ –Ω–µ–¥–µ–ª—é",
    "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–∑—Ä—è–∂–∞–µ—Ç –±–∞—Ç–∞—Ä–µ—é –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ",
    "–°–ø–∞—Å–∏–±–æ –∑–∞ –∞–∫—Ü–∏—é, —É–¥–∞–ª–æ—Å—å —Ö–æ—Ä–æ—à–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å",
    "QR-–∫–æ–¥ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–∞—Å—Å–µ, –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –Ω–∞–∑—ã–≤–∞—Ç—å –Ω–æ–º–µ—Ä"
]

# –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è
results = classifier.classify_batch(sample_reviews)

# =============================================================================
# –ë–õ–û–ö 8: –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
# =============================================================================

print("\nüìà –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏...")
classifier.analyze_results(results)

# =============================================================================
# –ë–õ–û–ö 9: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
# =============================================================================

print("\nüíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤...")
classifier.save_results(results, "example_classification_results")

# =============================================================================
# –ë–õ–û–ö 10: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
# =============================================================================

print("\n‚úçÔ∏è –î–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:")
print("classifier.classify_interactive()")
print("\n(–í–≤–µ–¥–∏—Ç–µ 'quit' –¥–ª—è –≤—ã—Ö–æ–¥–∞ –∏–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞)")

# =============================================================================
# –ì–û–¢–û–í–û!
# =============================================================================

print("\nüéâ –°–ò–°–¢–ï–ú–ê –ì–û–¢–û–í–ê –ö –†–ê–ë–û–¢–ï!")
print("=" * 50)
print("üìã –ß—Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –¥–µ–ª–∞—Ç—å:")
print("‚Ä¢ classifier.classify_review('–≤–∞—à –æ—Ç–∑—ã–≤') - –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –æ—Ç–∑—ã–≤–∞")
print("‚Ä¢ classifier.classify_batch(—Å–ø–∏—Å–æ–∫_–æ—Ç–∑—ã–≤–æ–≤) - –ø–∞–∫–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞")  
print("‚Ä¢ classifier.classify_interactive() - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º")
print("‚Ä¢ classifier.show_stats() - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±—É—á–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö")
print("‚Ä¢ classifier.analyze_results(—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã) - –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤")
print("‚Ä¢ classifier.save_results(—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, '–∏–º—è_—Ñ–∞–π–ª–∞') - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ")
print("=" * 50)